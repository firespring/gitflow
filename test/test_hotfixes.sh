#!/bin/bash

test_hotfix_base_functionality()
{
  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "------------ EXECUTING HOTFIX LIST  -----------------"
  echo "------------------------------------------------------"
  git flow hotfix
  echo "--------------------- DONE ---------------------------"


  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "----- EXECUTING HOTFIX START (no publish) -----------"
  echo "------------------------------------------------------"
  git flow hotfix start --nopublish $HOTFIX1
  echo "--------------------- DONE ---------------------------"


  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "------------ EXECUTING HOTFIX LIST  -----------------"
  echo "------------------------------------------------------"
  git flow hotfix list
  echo "--------------------- DONE ---------------------------"


  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "----------- EXECUTING HOTFIX PUBLISH ----------------"
  echo "------------------------------------------------------"
  git flow hotfix publish $HOTFIX1
  echo "--------------------- DONE ---------------------------"


  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "------------ EXECUTING HOTFIX FINISH ----------------"
  echo "------------------------------------------------------"
  git flow hotfix finish $HOTFIX1
  echo "--------------------- DONE ---------------------------"


  echo -e "\n\n"
  echo "------------------------------------------------------"
  echo "------------ EXECUTING HOTFIX LIST  -----------------"
  echo "------------------------------------------------------"
  git flow hotfix list
  echo "--------------------- DONE ---------------------------"
}

set -e
. ./init.sh

pushd $TEST_DIR

test_hotfix_base_functionality

popd

